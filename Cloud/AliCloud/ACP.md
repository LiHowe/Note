# 阿里云ACP认证

## 简写

+ ECS(Elastic Compute Service): 弹性计算服务器
+ RDS(Relational Database Service): 关系数据库服务器
+ DRDS(Distribute Relational Database Service): 分布式关系数据库服务器
+ OSS(Object Storage Service): 对象存储服务器
+ SLB(Server Load Balance): 服务器负载均衡
+ DMS
+ ESS: 弹性伸缩服务

+ POC(Proof of Concept): 概念验证
+ DDos(Distributed Denial of Service): 分布式拒绝服务攻击
+ IDC(Internet Data Center): 互联网数据中心
+ VPC(Virtual Private Cloud): 虚拟私有云,即私有网络
+ QPS(Queries-per-second): 每秒查询率

## 云计算

+ 常见的三种云计算服务类型包括
  + SaaS(软件即服务)
  + PaaS(平台即服务)
  + LaaS(基础设施即服务)

## ECS基础

### 概念

> ECS是由多个并列,又相互关联的产品概念组成, 包括
> 实例,磁盘,快照,镜像,经典网络和安全组,虚拟专有网络

+ 计费
  + 包年包月
  + 按量付费

+ 地域(Region)和可用区(Zone): 不同地域之间通信为公网, 同一地域的可用区之间通信为内网
  + 地域: 即提供的云计算服务的城市位置
  + 可用区: 即在同一地域下完全独立的物理数据中心,一个地域下可有多个可用区,资源创建到多个可用区可以建立高可用应用架构; 将资源建立到同一可用区可以获得更低的通讯延时

+ 云磁盘: 每份数据存储3个拷贝分布在不同交换机下, 不同物理服务器上, 支持单独挂载
  + SSD云盘: 即固态硬盘
  + 高效云盘: 即固态机械混合硬盘
  + 普通云盘: 即机械硬盘

+ 快照: 磁盘数据在某一个时间点的拷贝

+ 镜像
  + 系统镜像
  + 镜像市场
  + 自定义镜像
  + 共享镜像

+ 故障迁移: 实例只能在一个可用区内进行迁移

+ ECS的重要特点: 弹性, 支持垂直和水平扩展
  + 垂直扩展: 可在几分钟内完成升级CPU和内存,实时升级带宽
  + 水平扩展: 可在几分钟内创建数百个新的实例,在完成任务后可以立即销毁

+ ECS API
  + 限制:
    + 单实例最多属于安全组个数: 5
    + 单key api访问频率限制: 5000次/天

## RDS基础

### 相关概念

概念类似于传统数据库

+ RDS实例: 一个实例可以创建多个命名唯一的数据库, MySql最多5创建500个, SQL Server最多50个, 数据库会共享实例的资源(CPU, 内存, 硬盘容量等)
+ RDS数据库
+ RDS数据库账号: 每个账号可用于多个数据库, 每个账号也可创建多个实例, 每个实例最多创建500个账号

## 负载均衡

+ 协议
  + 4层(TCP/UDP): 可以直接获取来访者的真实IP, 通过LVS实现, 基于源IP实现
  + 7层(HTTPS): 通过Tengine实现, 基于Cookie实现
+ 可以自定义端口(1~65535), 每个用户最多30个负载均衡实例, 每个实例最多支持添加50个监听
+ 可以通过ECS上多个应用配置不同的主机头(http host)来实现对同一台ECS实例上的不同站点的健康检查
+ 服务监听(Listener)包含了以下内容:
  + 监听端口
  + 负载均衡策略
  + 转发规则
  + 健康检查配置
+ 支持同地域跨数据中心容灾
+ 可以结合`DNS服务`支持跨地域容灾
+ **不**支持`电话报警`
+ SLB主备服务器组只支持四层监听(TCP / UDP)
+ 只有七层服务(HTTP / HTTPS)可以关闭健康检查
+ 负载均衡请求不均衡的原因可能如下
  + 开启了会话保持功能
  + ECS健康检查异常
  + TCP Keepalive保持长连接

## 对象存储

+ 文件大小限制
  + put方式: 单文件最大不超过5G
  + multipart方式: 大小不超过48.8G
+ Bucket: 存储桶
  + 每个Object必须都包含在Bucket中
  + Bucket名在整个OSS中具有全局唯一性, 不可修改
  + 每个用户最多可创建10个Bucket
  + 每个Bucket存放的Object数量无限制, 大小有限制, 大小总和不可超过2PB
  + 每个应用可以对应一个或多个Bucket
+ 支持的文件操作:
  + 文件创建
  + 文件删除
  + 文件读取
+ 文件(Object)包含以下属性
  + key
  + meta
  + data
+ 删除bucket之前必须先删除bucket中所有文件, 包括未完成的分片文件, 如果想删除存储空间内部所有的文件，推荐使用生命周期管理
+ ECS与OSS之间的请求次数不分内外网都会计费
+ API 分片上传, 单个Part大小范围100KB-5GB
+ 请求次数仅支持按量计费
+ 支持存储空间,PV, UV监控

## 弹性伸缩(Auto Scaling)

### 特点

+ 弹性扩展
+ 弹性收缩
+ 弹性自愈
+ 自动化

### 使用

1. 创建伸缩组(包含伸缩配置, 规则, 活动)
2. 创建伸缩配置
3. 启用伸缩组
4. 创建伸缩规则
5. 创建定时任务
6. 创建报警任务

冷却时间**只**会拒绝监控报警任务类型的伸缩活动请求
冷却时间在每个伸缩活动的最后一个ECS实例加入或者移除伸缩组成功后才开始计时

同一伸缩组同一时刻只可有一个伸缩活动进行

## 安骑士

+ 用户在阿里云以外的服务器安装'安骑士客户端'后, 通过`在管理控制台生成的安装验证key`方式与阿里云官方账号关联
